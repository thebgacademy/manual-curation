{
	"name": "Ubuntu",
	// Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile
	"image": "mcr.microsoft.com/devcontainers/base:jammy",
	"features": {
		"ghcr.io/devcontainers/features/desktop-lite:1": {
			"version": "latest",
			"noVncVersion": "1.2.0",
			"password": "password",
			"webPort": "6080",
			"vncPort": "5901"
		},
		"ghcr.io/rocker-org/devcontainer-features/miniforge:1": {
			"version": "latest",
			"variant": "Mambaforge"
		},
		"ghcr.io/wxw-matt/devcontainer-features/apt:latest": {
			"packages": "vim curl git wget"
        },
		"ghcr.io/wxw-matt/devcontainer-features/command_runner:latest": {
			"command1": "wget https://github.com/wtsi-hpag/PretextView/releases/download/0.2.5/PretextView_Linux-x86-64.zip && unzip PretextView_Linux-x86-64.zip",
			"command2": "mamba create -n rapid -c bioconda perl-bioperl seqtk python=3.10 pyfastaq -y",
			"command3": "wget https://gitlab.com/wtsi-grit/rapid-curation/-/raw/main/rapid_split.pl https://gitlab.com/wtsi-grit/rapid-curation/-/raw/main/rapid_join.pl"
		}
	},

	// Use 'forwardPorts' to make a list of ports inside the container available locally.
	"forwardPorts": [6080, 8321],

	"portsAttributes": {
		"6080": {
			"label": "Desktop access (password: vscode)",
			"onAutoForward": "silent"
		},
		"5901": {
			"label": "VNC TCP port (password: vscode)",
			"onAutoForward": "silent"
		}
	},

	// Use 'postCreateCommand' to run commands after the container is created.
	"postCreateCommand": "git clone https://github.com/sanger-tol/agp-tpf-utils.git && pip install click ruff && pip install agp-tpf-utils/ && curl -L 'https://gitlab.com/wtsi-grit/rapid-curation/-/archive/main/rapid-curation-main.tar.gz?path=test_data' | tar xzf -"

	// Configure tool-specific properties.
	// "customizations": {},

	// Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.
	// "remoteUser": "root"
}
